\hypertarget{remote__control_2include_2_subscriber_8hpp_source}{}\doxysection{Subscriber.\+hpp}
\label{remote__control_2include_2_subscriber_8hpp_source}\index{X:/remote\_control/include/Subscriber.hpp@{X:/remote\_control/include/Subscriber.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * Subscriber.h}}
\DoxyCodeLine{3 \textcolor{comment}{ *}}
\DoxyCodeLine{4 \textcolor{comment}{ *  Created on: Oct 9, 2014}}
\DoxyCodeLine{5 \textcolor{comment}{ *      Author: "{}Alessio Colombo <colombo@disi.unitn.it>"{}}}
\DoxyCodeLine{6 \textcolor{comment}{ */}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{comment}{/*}}
\DoxyCodeLine{10 \textcolor{comment}{ * Subscriber.h}}
\DoxyCodeLine{11 \textcolor{comment}{ *}}
\DoxyCodeLine{12 \textcolor{comment}{ *  Created on: Oct 9, 2014}}
\DoxyCodeLine{13 \textcolor{comment}{ *      Author: "{}Alessio Colombo <colombo@disi.unitn.it>"{}}}
\DoxyCodeLine{14 \textcolor{comment}{ */}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#ifndef SRC\_ZMQ\_LAYER\_SUBSCRIBER\_H\_}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#define SRC\_ZMQ\_LAYER\_SUBSCRIBER\_H\_}}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include "{}zmq.hpp"{}}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include <functional>}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include <single\_thread.hpp>}}
\DoxyCodeLine{22 }
\DoxyCodeLine{23 \textcolor{keyword}{namespace }ZMQCommon \{}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{keyword}{class }\mbox{\hyperlink{class_z_m_q_common_1_1_subscriber}{Subscriber}} : \textcolor{keyword}{protected} \mbox{\hyperlink{class_common_1_1single__thread}{Common::single\_thread}} \{}
\DoxyCodeLine{26   \textcolor{keyword}{public}:}
\DoxyCodeLine{27     \textcolor{keyword}{typedef} std::function< void (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *topic, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *buf, \textcolor{keywordtype}{size\_t} size, \textcolor{keywordtype}{void} *data) > callback\_t;}
\DoxyCodeLine{28 }
\DoxyCodeLine{29     \mbox{\hyperlink{class_z_m_q_common_1_1_subscriber}{Subscriber}}();}
\DoxyCodeLine{30     \textcolor{comment}{// int init(AConnection \& conn, std::string topic, std::string address);}}
\DoxyCodeLine{31     \textcolor{keyword}{virtual} \mbox{\hyperlink{class_z_m_q_common_1_1_subscriber}{\string~Subscriber}}();}
\DoxyCodeLine{32     \textcolor{keywordtype}{void} register\_callback(callback\_t callback, \textcolor{keywordtype}{void}* user\_data = \textcolor{keyword}{nullptr});}
\DoxyCodeLine{33 }
\DoxyCodeLine{34     \textcolor{keyword}{using }Common::single\_thread::start;}
\DoxyCodeLine{35     \textcolor{keywordtype}{bool} start(std::string address, std::string topic);}
\DoxyCodeLine{36     \textcolor{keywordtype}{bool} stop();}
\DoxyCodeLine{37     \textcolor{keywordtype}{bool} isAlive() \{\textcolor{keywordflow}{return} Common::single\_thread::isAlive();\}}
\DoxyCodeLine{38 }
\DoxyCodeLine{39   \textcolor{keyword}{private}:}
\DoxyCodeLine{40     std::unique\_ptr<zmq::context\_t> context;}
\DoxyCodeLine{41 }
\DoxyCodeLine{42     std::string topic\_;}
\DoxyCodeLine{43     std::string address\_;}
\DoxyCodeLine{44     \textcolor{keywordtype}{size\_t} topiclen\_;}
\DoxyCodeLine{45 }
\DoxyCodeLine{46     \textcolor{keywordtype}{void} worker(\textcolor{keyword}{const} \textcolor{keywordtype}{bool}\& terminating);}
\DoxyCodeLine{47 }
\DoxyCodeLine{48     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} MaxMessageSize = 5000000;}
\DoxyCodeLine{49     callback\_t recv\_callback;}
\DoxyCodeLine{50     \textcolor{keywordtype}{void} * data\_;}
\DoxyCodeLine{51 \};}
\DoxyCodeLine{52 }
\DoxyCodeLine{53 \}}
\DoxyCodeLine{54 }
\DoxyCodeLine{55 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* SRC\_ZMQ\_LAYER\_SUBSCRIBER\_H\_ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
